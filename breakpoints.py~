from PyQt4 import QtGui,QtCore

class create_breakpoints(QtGui.QDialog):

    def __init__(self,parent=None):

        QtGui.QDialog.__init__(self,parent)
        lblbreakpoint = QtGui.QLabel("Set Breakpoint at",self)
        lblbreakpoint.setGeometry(20,10,131,21)
        
        self.radio_func = QtGui.QRadioButton("Function",self)
        self.radio_func.setGeometry(20,50,108,26)
        self.connect(self.radio_func,QtCore.SIGNAL('clicked()'),self.radio_func_clicked)
        self.radio_line = QtGui.QRadioButton("Line",self)
        self.radio_line.setGeometry(20,110,108,26)
        self.connect(self.radio_line,QtCore.SIGNAL('clicked()'),self.radio_line_clicked)

        self.txtfunc = QtGui.QLineEdit(self)
        self.txtfunc.setGeometry(190,50,108,31)
        self.txtfile = QtGui.QLineEdit(self)
        self.txtfile.setGeometry(190,110,181,31)
        self.txtline = QtGui.QLineEdit(self)
        self.txtline.setGeometry(190,160,181,31)

        lblfile = QtGui.QLabel("File",self)
        lblfile.setGeometry(100,116,66,21)
        lbllinenumber = QtGui.QLabel("Line Number",self)
        lbllinenumber.setGeometry(100,160,91,21)
        
        cmdsetbreakpoint = QtGui.QPushButton("Set Breakpoint",self)
        cmdsetbreakpoint.setGeometry(261,210,111,31)
        self.connect(cmdsetbreakpoint,QtCore.SIGNAL('clicked()'),self.cmdsetbreakpoint_clicked)
        cmdcancel = QtGui.QPushButton("Cancel",self)
        cmdcancel.setGeometry(150,210,95,31)
        self.connect(cmdcancel,QtCore.SIGNAL('clicked()'),self.cmdcancel_clicked)

    def radio_func_clicked(self):

        if self.radio_func.isChecked() == True:
            self.txtfunc.setEnabled(True)
            self.txtfile.setEnabled(False)
            self.txtline.setEnabled(False)           

    def radio_line_clicked(self):

        if self.radio_line.isChecked() == True:
            self.txtfile.setEnabled(True)
            self.txtline.setEnabled(True)
            self.txtfunc.setEnabled(False)        

    def cmdsetbreakpoint_clicked(self):

        self.emit(QtCore.SIGNAL('setbreakpoint()'))
        self.destroy()

    def cmdcancel_clicked(self):

        self.close()
